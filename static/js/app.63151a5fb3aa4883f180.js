webpackJsonp([1],{"1QtF":function(t,e){},"2Yv5":function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),r={name:"login-in",data:function(){return{account:{name:"",email:"",phone:"",password:""},emailError:!1,passwordError:!1,inputaccount:"",inputpassword:""}},methods:{check:function(){var t=this;""!=this.inputaccount&&""!=this.inputpassword?this.$axios({method:"post",url:"http://127.0.0.1:10520/api/user/login",data:{account:this.inputaccount,password:this.inputpassword}}).then(function(e){switch(e.data){case-1:t.emailError=!0,t.passwordError=!1;break;case 1:t.passwordError=!0,t.emailError=!1;break;default:t.emailError=!1,t.passwordError=!1,t.account.name=e.data.name,t.$router.push({name:"Logined",query:{id:t.account.name}})}}).catch(function(t){console.log(t)}):alert("填写不能为空！")}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-register"},[a("div",{staticClass:"contain"},[a("div",{staticClass:"big-box"},[a("div",{staticClass:"big-contain"},[a("h2",{staticClass:"scontent"},[t._v("欢迎来到登录系统")]),t._v(" "),a("form",{staticClass:"bform"},[a("label",{staticClass:"btitle"},[t._v("账号密码登录")]),a("br"),t._v(" "),a("label",{staticClass:"btitle"},[t._v("账号")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputaccount,expression:"inputaccount"}],attrs:{type:"text",required:"",placeholder:"输入手机号/邮箱"},domProps:{value:t.inputaccount},on:{input:function(e){e.target.composing||(t.inputaccount=e.target.value)}}}),t._v(" "),t.emailError?a("span",{staticClass:"errTips"},[t._v("* 账号不存在 *")]):t._e(),a("br"),t._v(" "),a("label",{staticClass:"btitle"},[t._v("密码")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputpassword,expression:"inputpassword"}],attrs:{type:"password",required:"",placeholder:"输入密码"},domProps:{value:t.inputpassword},on:{input:function(e){e.target.composing||(t.inputpassword=e.target.value)}}}),t._v(" "),t.passwordError?a("span",{staticClass:"errTips"},[t._v("* 密码填写错误 *")]):t._e(),a("br"),t._v(" "),a("button",{staticClass:"bbutton",on:{click:function(e){return e.preventDefault(),t.check.apply(null,arguments)}}},[t._v("登录")]),t._v(" "),a("router-link",{staticClass:"sbutton",attrs:{to:"/register"}},[t._v("没有账号？立即注册")])],1)])])])])},staticRenderFns:[]};var o=a("VU/8")(r,n,!1,function(t){a("2Yv5")},"data-v-533d1364",null).exports,i={name:"App",components:{LoginIn:o}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var l=a("VU/8")(i,c,!1,function(t){a("1QtF")},null,null).exports,u=a("mtWM"),p=a.n(u),d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-register"},[a("div",{staticClass:"contain"},[a("div",{staticClass:"big-box"},[a("div",{staticClass:"big-contain"},[a("h2",{staticClass:"scontent"},[t._v("登录成功，欢迎, "+t._s(t.username))]),t._v(" "),a("button",{staticClass:"bbutton",on:{click:function(e){return e.preventDefault(),t.quit.apply(null,arguments)}}},[t._v("点击退出")])])])])])},staticRenderFns:[]};var v={name:"register",data:function(){return{account:{name:"",email:"",phone:"",password:""},nameError:!1,phoneError:!1,emailError:!1,passwordError:!1,password1:"",password2:"",registed:!1}},methods:{registe:function(){var t=this;this.password1===this.password2?(this.account.password=this.password2,this.passwordError=!1,""!=this.account.name&&""!=this.account.email&&""!=this.account.phone&&""!=this.account.password?this.$axios({method:"post",url:"http://127.0.0.1:10520/api/user/add",data:{name:this.account.name,phone:this.account.phone,email:this.account.email,password:this.account.password}}).then(function(e){switch(e.data){case 0:t.nameError=!1,t.emailError=!1,t.phoneError=!1,alert("注册成功！"),t.registed=!0;break;case 1:t.nameError=!0;break;case 2:t.nameError=!1,t.phoneError=!0;break;case 3:t.nameError=!1,t.phoneError=!1,t.emailError=!0}}).catch(function(t){console.log(t)}):alert("填写不能为空！")):this.passwordError=!0}}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-register"},[a("div",{staticClass:"contain"},[a("div",{staticClass:"big-box"},[a("div",{staticClass:"big-contain"},[a("h2",{staticClass:"scontent"},[t._v("注册，开始我们的旅行")]),t._v(" "),t.registed?t._e():a("form",{staticClass:"bform"},[a("label",{staticClass:"btitle"},[t._v("用户名")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.account.name,expression:"account.name"}],attrs:{type:"text",required:"",placeholder:"输入用户名"},domProps:{value:t.account.name},on:{input:function(e){e.target.composing||t.$set(t.account,"name",e.target.value)}}}),t._v(" "),t.nameError?a("span",{staticClass:"errTips"},[t._v("* 用户名已存在 *")]):t._e(),a("br"),t._v(" "),a("label",{staticClass:"btitle"},[t._v("手机号")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.account.phone,expression:"account.phone"}],attrs:{type:"text",required:"",placeholder:"输入手机号"},domProps:{value:t.account.phone},on:{input:function(e){e.target.composing||t.$set(t.account,"phone",e.target.value)}}}),t._v(" "),t.phoneError?a("span",{staticClass:"errTips"},[t._v("* 手机号已存在 *")]):t._e(),a("br"),t._v(" "),a("label",{staticClass:"btitle"},[t._v("邮箱")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.account.email,expression:"account.email"}],attrs:{type:"text",required:"",placeholder:"输入邮箱"},domProps:{value:t.account.email},on:{input:function(e){e.target.composing||t.$set(t.account,"email",e.target.value)}}}),t._v(" "),t.emailError?a("span",{staticClass:"errTips"},[t._v("* 邮箱已存在 *")]):t._e(),a("br"),t._v(" "),a("label",{staticClass:"btitle"},[t._v("密码")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password1,expression:"password1"}],attrs:{type:"password",required:"",placeholder:"输入密码"},domProps:{value:t.password1},on:{input:function(e){e.target.composing||(t.password1=e.target.value)}}}),a("br"),t._v(" "),a("label",{staticClass:"btitle"},[t._v("确认密码")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password2,expression:"password2"}],attrs:{type:"password",required:"",placeholder:"确认密码"},domProps:{value:t.password2},on:{input:function(e){e.target.composing||(t.password2=e.target.value)}}}),t._v(" "),t.passwordError?a("span",{staticClass:"errTips"},[t._v("* 两次密码不一致 *")]):t._e(),a("br"),t._v(" "),a("button",{staticClass:"bbutton",on:{click:function(e){return e.preventDefault(),t.registe.apply(null,arguments)}}},[t._v("注册")]),t._v(" "),a("router-link",{staticClass:"sbutton",attrs:{to:"/"}},[t._v("已有账号？立即登录")])],1),t._v(" "),t.registed?a("div",[a("h3",[t._v("注册成功，立即登录吧~")]),t._v(" "),a("router-link",{attrs:{to:"/"}},[a("button",{staticClass:"bbutton"},[t._v("登录")])])],1):t._e()])])])])},staticRenderFns:[]};var h=[{path:"/",name:"LoginIn",component:o},{path:"/login/",name:"Logined",component:a("VU/8")({name:"logined",data:function(){return{username:""}},methods:{getParams:function(){this.username=this.$route.query.id},quit:function(){this.logined=!1,this.$router.replace({path:"/"})}},created:function(){this.getParams()}},d,!1,function(t){a("ZPLO")},"data-v-5b051b8c",null).exports},{path:"/register",name:"Register",component:a("VU/8")(v,m,!1,function(t){a("QgEk")},"data-v-12c0d6ca",null).exports}],_=a("/ocq");s.a.prototype.$axios=p.a,s.a.config.productionTip=!1,s.a.use(_.a);var b=new _.a({routes:h,mode:"hash",base:Object({NODE_ENV:"production"}).BASE_URL});new s.a({el:"#app",components:{App:l},template:"<App/>",router:b})},QgEk:function(t,e){},ZPLO:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.63151a5fb3aa4883f180.js.map